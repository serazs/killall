--[=[
  EVRENSEL KILL AURA (DENEYSEL)
  - Her frame'de etraftaki tüm modelleri parçalar
  - Can sistemini atlar, direkt modeli yok eder
  - Bazı oyunlarda çalışmayabilir (server-side koruma)
]=]

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local lp = Players.LocalPlayer

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "UniversalKillAura"
gui.Parent = lp:WaitForChild("PlayerGui")
gui.ResetOnSpawn = false

local btn = Instance.new("TextButton")
btn.Size = UDim2.new(0, 150, 0, 40)
btn.Position = UDim2.new(0.5, -75, 0.5, -20)
btn.Text = "AURA AÇ"
btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
btn.TextColor3 = Color3.fromRGB(255,255,255)
btn.Parent = gui
btn.Draggable = true

local active = false

local function loop()
    while active do
        local char = lp.Character
        if char then
            local root = char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso") or char:FindFirstChild("Head")
            if root then
                local pos = root.Position
                for _, obj in ipairs(Workspace:GetDescendants()) do
                    if obj:IsA("Model") and obj ~= char then
                        local ref = obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChild("Torso") or obj:FindFirstChild("Head") or obj:FindFirstChildOfClass("Part")
                        if ref then
                            local dist = (pos - ref.Position).Magnitude
                            if dist < 30 then
                                pcall(function() obj:BreakJoints() end)
                                pcall(function() obj:Destroy() end)
                            end
                        end
                    end
                end
            end
        end
        RunService.Heartbeat:Wait()
    end
end

btn.MouseButton1Click:Connect(function()
    active = not active
    btn.Text = active and "AURA KAPAT" or "AURA AÇ"
    if active then coroutine.wrap(loop)() end
end)
